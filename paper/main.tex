\documentclass{article}
\usepackage{mathpartir}
\usepackage{fullpage}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{mathrsfs}

% domain shorthand
\DeclareMathOperator{\dom}{dom}
\begin{document}

\newtheorem*{lem}{Lemma}
\newtheorem*{conj}{Conjecture}

% BNF shorthand
\newcommand \bnfdef {::=}
\newcommand \bnfalt {~|~}

% symbol shorthand
\newcommand \own[1] {\sim{#1}}
\newcommand \Ref[1] {\&~{#1}}

\newcommand \var[1] {\langle{#1}\rangle}
\newcommand \subvar[3] {\var{{#1}_{#2}}_{{#2} \in \{1 \ldots {#3}\} }}

\newcommand \rec[1] {[{#1}]}
\newcommand \subrec[3] {\rec{{#1}_{#2}}_{{#2} \in \{1 \ldots {#3}\} }}

% lifetime shorthand
\newcommand \lt {\ell}
\newcommand \ltr {\mathscr{L}}

% Greek shorthands
\newcommand \ga {\alpha}
\newcommand \gG {\Gamma}
\newcommand \gs {\sigma}
\newcommand \gS {\Sigma}
\newcommand \gt {\tau}
\newcommand \gU {\Upsilon}
\newcommand \gY {\Psi}

% qual shorthand
\newcommand \qimm {\mathsf{imm}}
\newcommand \qmut {\mathsf{mut}}
\newcommand \mqnone {\mathsf{none}}

% type shorthand
\newcommand \tyint {\mathsf{int}}
\newcommand \tyref[3] {\Ref{{#1}~{#2}~{#3}}}
\newcommand \tyfix[2] {\mu {#1}.{#2}}

% path/route shorthand
\newcommand \lv[2] {{#1}@{#2}}
\newcommand \addr[2] {{#1}@{#2}}
\newcommand \base {\bullet}
\newcommand \deref[1] {*{#1}}
\newcommand \pay[1] {\mathsf{pay}~{#1}}
\newcommand \proj[2] {{#1}\cdot{#2}}
\newcommand \unroll[2] {\mathsf{unroll}~[{#1}]~{#2}}

% cell shorthand
\newcommand \void {\mathsf{void}}
\newcommand \refval[2] {\Ref{{#1}~{#2}}}
\newcommand \varval[2] {\var{{#1}:{#2}}}
\newcommand \roll[2] {\mathsf{roll}~[{#1}]~{#2}}

% hole shorthand
\newcommand \uninit {\mathsf{uninit}}

% statement shorthand
\newcommand \nop {\mathsf{skip}}
\newcommand \seq[2] {{#1};{#2}}
\newcommand \set[2] {{#1} \leftarrow {#2}}
\newcommand \new[2] {{#1} \leftarrow \textsf{new}\ {#2}}
\newcommand \swap[2] {{#1} \leftrightarrow {#2}}
\newcommand \free[1] {\textsf{free}\ {#1}}
\newcommand \push[4] {\textsf{push}\ {#1}\ {#2}\ {#3}\ {#4}}
\newcommand \pop[2] {\textsf{pop}\ {#1}\ {#2}}

% judgment shorthand
\newcommand \tc[3] {{#1} \vdash {#2} : {#3}}
\newcommand \sub[3] {[{#1} \mapsto {#2}] {#3}}
\newcommand \Read[3] {\textsc{read}({#1},{#2},{#3})}
\newcommand \ev[3] {{#1} \vdash {#2} \to {#3}}
\newcommand \shallow[3] {\textsc{shallow}({#1},{#2},{#3})}
\newcommand \initShadow[1] {\textsc{init}({#1})}
\newcommand \bankwf[3] {{#1} \vdash {#2} \leq {#3}}
\newcommand \tcb[5] {{#1} \vdash {#2} : {#3}\ \textrm{controlled by}\ {#4} \leq {#5}}
\newcommand \tb[4] {{#1} \vdash {#2} : {#3} \leq {#4}}
\newcommand \nm[1] {\textsc{not-mut}({#1})}
\newcommand \canread[2] {\textsc{can-read}({#1},{#2})}
\newcommand \cnml[1] {\textsc{contains-no-mut-loans}({#1})}
\newcommand \cw[2] {\textsc{can-write}({#1},{#2})}
\newcommand \cnl[1] {\textsc{contains-no-loans}({#1})}
\newcommand \cm[2] {\textsc{can-move}({#1},{#2})}
\newcommand \tycopy[1] {{#1}\ \textrm{copy}}
\newcommand \tymove[1] {{#1}\ \textrm{move}}
\newcommand \uselv[5] {{#1};{#2}\vdash{#3}:{#4}\Rightarrow{#5}}
\newcommand \valid[5] {{#1};{#2};{#3}\vdash{#4}\ \textrm{valid for}\ {#5}}
\newcommand \freezable[4] {{#1};{#2}\vdash{#3}\ \textrm{freezable for}\ {#4}}
\newcommand \unique[4] {{#1};{#2}\vdash{#3}\ \textrm{unique for}\ {#4}}
\newcommand \sev[6] {{#1};{#2}\vdash{#3}\to{#4};{#5}\vdash{#6}}

\input{./intro.tex}
\input{./paths.tex}
\input{./exprs.tex}
\input{./stmts.tex}

\end{document}
